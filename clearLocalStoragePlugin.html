<!DOCTYPE html>
<html>
  <head>
    <script src="lib/plugin.js"></script>
    <meta charset="UTF-8" />
    <title>Clear Local Storage Plugin</title>
    <script>
      var headers = { name: "Clear Local Storage", 
        version: "0.1", 
        description: "This plugin clears HTML5 local storage; it is intended for developers contributing to Orion, so they can more easily see their changes."};
      var provider = new orion.PluginProvider(headers);
      var serviceImpl = { };
      provider.registerService("orion.navigate.command", {}, {
        nameKey: "Clear Local Storage",
        id: "eclipse.clear.local.storage.open",
        tooltipKey: "Open Clear Local Storage page",
        nls: "orion/ttyshell/nls/messages",
        uriTemplate: "javascript:localStorage.clear(); alert('Your local storage was cleared.');",
        forceSingleItem: true
      });
      provider.registerService("orion.page.link.related", null, {
        id: "eclipse.clear.local.storage.open",
        category: "shell",
	order: 15 //Last link in Shell category
      });
      provider.connect(); 
    </script>
  </head>
  <body>
    <h1>Shell Plugin for Orion to clear HTML5 Local Storage</h1>
  </body>
</html>
